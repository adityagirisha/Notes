# Section 2 - Planning and Engagement

## Glossary

> Risk
> probability that threat will be realized


> Vulnerability
> weakness within the system design

> Threat
> anything that can cause loss or harm

> Risk Appetite
> Amount of risk a organization is ready to incur

> Risk Management
> an orgs effort to find ways to minimize the likelihood of a risk
<br>
> applying a certain risk management measure may need to take consider pros and cons


## Types of Risk

|Type|Definition|
|-|-|
|Inherent Risk|Some risk that arises from the performing of operation|
|Residual Risk|Risk remainder or new risk vector after application of a mitigation|
|Risk Exception|Risk that is accepted even though mitigation is possible and viable|

## Risk Handling Techniques

|Technique|Restriction|
|-|-|
|Risk Avoidance|Dont do the task that triggers risk|
|Risk Tranfer|Let someone else do the task that triggers risk and let them handle it|
|Risk Mitigation|reducing the risk of a task to an acceptable level through precautions|

## Access Controls

> 7 Clasifiable Categories
>Compensative - Take action to compensate when threat is realized
>Corrective - Take action to reduce the attack after effects
>Detective - Take action to reduce the ongoing attack
>Deterrent - Discourage violation of security policies
>Directive - Force security policies to org members
>Preventive - Take action to reduce changes of an attack attempt
>Recovery - Take action to restore normal operations


### Another Way to categorize access controls is defense-in-depth :

> Administrative Access Control
    - Imposing Security Controls
    - Setting Standards
    - Designing Policy
    - Training Members
    - Supervise Members

> Logical Access Control
    - hardware/software measures
    - firewall / IDS / IPS
    - Auditing and Monitoring

> Physical Access Control
    - Fences/ Gates/ Locks
    - Fobs/ IDs
    - Biometrics
    - Guards and surveillance

## Pentest Methodology

- Different orgs may follow different pen testing steps and stages.

>Some of the industry standards are:
    - Planning and Scoping
    - Info Gathering
    - Attacks and Exploits
    - Reporting

- other standards include CEH, OSCP, Cisco

## Pentesting Standards

|Standard|Info|
|-|-|
|OWASP| Open Web App Sec Project - for web dev and web apps|
|OSSTMM| Open Source Sec Testing Method Manual - consistent and through, security audit template|
|ISSAFF|Info System Sec Assessment Framework - Out of date, for standard web infra and programs|
|PTES|Pen Test Exec Standard - threat modeling, reporting and execution|

## Planning a test

- Factors : time / money / quality
- A pen testing scope is to understand security posture of current known knowledge and current system. Both Customers and Testers must understand that unknown threats are unknown scope

> Main things to consider
    - Understand customer requirement and compliance requirement
    - Have Set objectives
    - Know Constraints (Legal/Policy/Contractual)
    - Adapt according to resources
    - Establish Proper Comm with Org
    - Familiarize Proper Communication Channels
    - Understand Tech Restrictions
    - Explain this may bring disruption to dev cycle and ops


## Legal Concepts

- To ensure you are authorized to perform pentesting as a ethical hacker you must have legal contracts to avoid legal consequences

- 4 main contracts

> Statement of Work
    - task list that is part of testing plan
    - procedures to conduct
    - devices to test
    - systems that may be affected

> Master Service Agreement
    - Framework for companies that have recurring contracts with sec team

> Service Level Agreement
    - Provide Service List
    - Explain list of responsibility and rights of both parties
    - Defines Scope and contractual payment

> NDA 
    - ensure info isn't leaked
    - both ways so that customer doesn't leak pentest techniques

## Compliance

- Laws that need to be followed as pentester
- Laws can depend on sector that the company is based on/ regions it operates in/ Proceduures of Business

|Compliance|Sector|
|-|-|
|HIPPA| Health Care Data |
|SOX| Public traded company|
| GLBA | Banking Systems |
| FISMA | Federal Agencies |
| FERPA | Education |
| Economic Espionage Act | Trade Secrets of any industry|
| COPPA | Underage Accessible Websites |
| GDPR | General Privacy - EU residents/companies operating in EU|
| PCI DSS | not a law but a standard imposed to unlock credit card transaction capabilities|

Credit card transaction systems need different handling depending on amount of trasaction
- 4 levels
   - more than 6 mil - QSA audit and ROC
   - 1-6 mil - Self Audit and ROC
   - 20k - 1mil 
   - <20k